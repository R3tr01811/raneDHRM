<div class="container">
  <div class="row">
    <div class="col-md-12 mt-4">
      <div-c>
        <h1 class="text-center" style="color: darkblue">Company Master</h1>
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link
          rel="preconnect"
          href="https://fonts.gstatic.com"
          crossorigin
        />
        <link
          href="https://fonts.googleapis.com/css2?family=Kanit:wght@300&display=swap"
          rel="stylesheet"
        />
      </div-c>
      <hr style="border-block-color: orange" />
      <button mat-fab color="primary"  (click)="showAddUserForm()" style="float: right" aria-label="Example icon button with a delete icon">
        <mat-icon>person_add</mat-icon>
      </button>
      <button mat-fab   (click)="exportexcel()" style="float: right" aria-label="Example icon button with a delete icon">
        <mat-icon>download</mat-icon>
      </button>
      <br /><br />
      <br />
      <!--
        <table class="table table-bordered table-striped table-hover">
          <table id="table">
          <thead>
          <tr>
            <th
              class="text-center"
              style="width: 500px"
              style="background-color: darkblue"
            >
              Company Code
            </th>
            <th
              class="text-center"
              style="width: 800px"
              style="background-color: darkblue"
            >
              Company Name
            </th>
            <th
              class="text-center"
              style="width: 500px"
              style="background-color: darkblue"
            >
              Active Status
            </th>
            <th
              class="text-center"
              style="width: 500px"
              style="background-color: darkblue"
            >
              Created On
            </th>
            <th
              class="text-center"
              style="width: 500px"
              style="background-color: darkblue"
            >
              Created By
            </th>
            <th
              class="text-center"
              style="width: 500px"
              style="background-color: darkblue"
            >
              Modified On
            </th>
            <th
              class="text-center"
              style="width: 500px"
              style="background-color: darkblue"
            >
              Modified By
            </th>
            <th
              class="text-center"
              style="width: 500px"
              style="background-color: darkblue"
            >
              &nbsp;
            </th>
            <link rel="preconnect" href="https://fonts.googleapis.com" />
            <link
              rel="preconnect"
              href="https://fonts.gstatic.com"
              crossorigin
            />
            <link
              href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,200;1,400&display=swap"
              rel="stylesheet"
            />
          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let user of master">
            <td>{{ user.company_code }}</td>
            <td>{{ user.company_name }}</td>
            <td>{{ user.status }}</td>
            <td>{{ user.created_on }}</td>
            <td>{{ user.created_by }}</td>
            <td>{{ user.modified_on }}</td>
            <td>{{ user.modified_by }}</td>
            <td>
              <button mat-raised-button color="accent" (click)="showEditUserForm(user.sno)">
                Edit
              </button>
              <button mat-raised-button color="warn" type="button" (click)="removeUser(user.sno)">Delete</button>
            </td>
          </tr>
          </tbody>
        </table>
      </table>
      -->
      <mat-table [dataSource]="dataSource" class="mat-elevation-z8">

        <ng-container matColumnDef="CompanyName">
          <mat-header-cell *matHeaderCellDef> Company Name </mat-header-cell>
          <mat-cell *matCellDef="let element"> {{element.CompanyName}} </mat-cell>
        </ng-container>

        <ng-container matColumnDef="ActiveStatus">
          <mat-header-cell *matHeaderCellDef> Active Status </mat-header-cell>
          <mat-cell *matCellDef="let element"> {{element.ActiveStatus}} </mat-cell>
        </ng-container>
      
        <ng-container matColumnDef="CreatedOn">
          <mat-header-cell *matHeaderCellDef> Created On </mat-header-cell>
          <mat-cell *matCellDef="let element"> {{element.CreatedOn}} </mat-cell>
        </ng-container>
      
        <ng-container matColumnDef="CreatedBy">
          <mat-header-cell *matHeaderCellDef> Created By </mat-header-cell>
          <mat-cell *matCellDef="let element"> {{element.CreatedBy}} </mat-cell>
        </ng-container>
      
        <ng-container matColumnDef="ModifiedOn">
          <mat-header-cell *matHeaderCellDef> Modified On </mat-header-cell>
          <mat-cell *matCellDef="let element"> {{element.ModifiedOn}} </mat-cell>
        </ng-container>

        <ng-container matColumnDef="ModifiedBy">
          <mat-header-cell *matHeaderCellDef> Modified By </mat-header-cell>
          <mat-cell *matCellDef="let element"> {{element.ModifiedBy}} </mat-cell>
        </ng-container>

        <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
        <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
      </mat-table>
   
      <div
        [style.display]="showAdd ? 'block' : 'none'"
        class="modal"
        id="imagemodal"
        tabindex="-1"
        role="dialog"
        aria-labelledby="myModalLabel"
        aria-hidden="true"
        style="background-color: white"
      >
        <div class="modal-dialog">
          <div class="modal-content">
            <div-d class="mt-4">
              <form *ngIf="userForm">
                <div class="container pt-5">
                  <div class="row">
                    <div class="col">
                      <h2 class="first">
                        <b>MASTER COMPANY</b>
                        <hr />
                      </h2>
                      <form [formGroup]="form" (ngSubmit)="loginUser()">
                        <div class="form-group">
                          <label class="col-form-label">Company Code</label
                          ><br />
                          <input
                            type="number"
                            style="border-radius: 10px; box-shadow: 100px"
                            class="inputtext"
                            placeholder="Company Code"
                            formControlName="Code"
                          />
                          <br />
                          <br />
                        </div>
                        <div class="form-group">
                          <label class="col-form-label">Company Name</label
                          ><br />
                          <input
                            type="text"
                            style="border-radius: 10px; box-shadow: 100px"
                            class="inputtext"
                            placeholder="Company Name"
                            formControlName="Name"
                          />
                          <br />
                          <br />
                        </div>
                        <div class="form-group">
                          <label class="col-form-label">Active Status</label
                          ><br />
                          <input
                            type="radio"
                            style="border-radius: 10px; box-shadow: 100px"
                            class="inputtext"
                            formControlName="active_status"
                            value="0"
                          />
                          Active
                          <input
                            type="radio"
                            style="border-radius: 10px; box-shadow: 100px"
                            class="inputtext"
                            formControlName="active_status"
                            value="1"
                          />
                          Inactive
                          <br />
                          <br />
                        </div>

                        <div class="modal-footer">
                          <button
                            type="button"
                            style="position: relative; right: 320px"
                            class="btn btn-info btn-sm mr-2"
                            (click)="loginUser()"
                          >
                            <b>Submit</b>
                          </button>
                          <button
                            type="button"
                            style="position: relative; left: 10px"
                            class="btn btn-info btn-sm mr-2"
                            data-dismiss="modal"
                            (click)="hide()"
                          >
                            <b>Close</b>
                          </button>
                        </div>
                      </form>
                    </div>
                  </div>
                </div>
              </form>
            </div-d>
          </div>
        </div>
      </div>
      <div
        [style.display]="showEdit ? 'block' : 'none'"
        class="modal"
        tabindex="-1"
        role="dialog"
        aria-labelledby="myModalLabel"
        aria-hidden="true"
      >
        <div class="modal-dialog">
          <div class="modal-content">
            <div>
              <form [formGroup]="form1" action="updateUser()">
                <h2>Edit User Details</h2>
                <br />
                <div class="form-group">
                  <label class="col-form-label">Company Code</label><br />
                  <input
                    type="number"
                    style="border-radius: 10px; box-shadow: 100px"
                    class="inputtext"
                    placeholder="Code"
                    ngModel="Code"
                    formControlName="Code"
                    ngModeldisabled
                  />
                  <br />
                  <br />
                </div>
                <div class="form-group">
                  <label class="col-form-label">Company Name</label><br />
                  <input
                    type="text"
                    style="border-radius: 10px; box-shadow: 100px"
                    class="inputtext"
                    placeholder="Company Name"
                    formControlName="Name"
                  />
                  <br />
                  <br />
                </div>
                <div class="form-group">
                  <label class="col-form-label">Active_Status</label><br />
                  <input
                    type="radio"
                    style="border-radius: 10px; box-shadow: 100px"
                    class="inputtext"
                    formControlName="active_status"
                    value="0"
                  />
                  Active
                  <input
                    type="radio"
                    style="border-radius: 10px; box-shadow: 100px"
                    class="inputtext"
                    formControlName="active_status"
                    value="1"
                  />
                  Inactive
                  <br />
                  <br />
                </div>
                <div class="modal-footer">
                  <button
                    type="button"
                    style="position: relative; right: 320px"
                    class="btn btn-info btn-sm mr-2"
                    (click)="updateUser()"
                  >
                    <b>Submit</b>
                  </button>
                  <button
                    type="button"
                    style="position: relative; left: 10px"
                    class="btn btn-info btn-sm mr-2"
                    data-dismiss="modal"
                    (click)="hides()"
                  >
                    <b>Close</b>
                  </button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
